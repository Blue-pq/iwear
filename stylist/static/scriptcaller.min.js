if(typeof(OORTLE)==="undefined"){OORTLE={}}var console;if(typeof(console)==="undefined"&&("opera" in window)){console={log:function(){window.opera.postError(arguments.join(" "))}}}if(typeof(console)==="undefined"){console={log:function(){}}}OORTLE.debug=false;OORTLE.log=function(){if(OORTLE.debug&&console&&console.log){if(typeof(console.log.apply)==="function"){console.log.apply(console,arguments)}else{if(typeof(console.log)==="function"){console.log(Array.prototype.slice.call(arguments))}}}};OORTLE.$type=function(a){if(typeof(a)==="object"){if(a===null){return"null"}if(a.constructor===[].constructor){return"array"}if(a.constructor===(new Date()).constructor){return"date"}if(a.constructor===(new RegExp()).constructor){return"regex"}return"object"}return typeof(a)};OORTLE.capitalize=function(a){return a.replace(/\b[a-z]/g,function(b){return b.toUpperCase()})};OORTLE.filter=function(b,e){var c,d=[];for(c=0;c<b.length;c=c+1){if(e(b[c],c)===true){d.push(b[c])}}return d};OORTLE.random_id=function(){return new Date().getTime()+""+("0000000000000000"+((Math.random()+"").substr(2))).slice(-16)};OORTLE.random_dist=function(c){var a=c[0],b=c[1];return a+((Math.random()*b*2)-b)};OORTLE.$e=function(){};OORTLE.$identity=function(a){return a};OORTLE.$lazy=function(c){var b=OORTLE.$a(arguments);b.shift();return c.apply(this,b)};OORTLE.$b=function(a,b){var c=OORTLE.$a(arguments);c.shift();c.shift();return function(){return a.apply(b,c.concat(OORTLE.$a(arguments)))}};OORTLE.$a=function(a){return Array.prototype.slice.call(a)};OORTLE.$not_implemented=function(){throw new Error("not implemented")};OORTLE.$attempt=function(){for(var b=0,a=arguments.length;b<a;b+=1){try{return arguments[b]()}catch(c){}}return null};(function(){var h=this.document,e=h.window=this;var a=navigator.userAgent.toLowerCase(),b=navigator.platform.toLowerCase(),f=a.match(/(opera\sm(ini|obile))\/(.*?)\/+/)||a.match(/(opera|ie|firefox|chrome|iemobile|dolfin|jasmine|silk|netfront|wosbrowser|nokiabrowser|seamonkey|browserng|iceweasel|safari|konqueror|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||a.match(/(uc\sbrowser|phantom|dolphin)/)||[null,"unknown",0],c=f[1]==="ie"&&h.documentMode;var i,g=c||(f[1]==="opera"&&f[4])?f[4]:f[2];var j=OORTLE.Browser={name:(f[1]==="version")?f[3]:f[1],version:g,version_int:parseFloat(g),Platform:{name:a.match(/ip(?:ad|od|hone)/)?"ios":a.match(/blackberry/)?"blackberry os":a.match(/series\s60/)?"symbian":(a.match(/(?:(hpw|web)os|android|symbian|symbos|bada|windows\sce|windows\sphone|meego)/)||b.match(/mac|win|linux/)||a.match(/(windows\snt|windows|linux|mac)/)||["other"])[0]},Device:{name:a.match(/blackberry|htc|nokia|ip(?:ad|od|hone)|samsung|macintosh/)||"other"},Features:{xpath:!!(h.evaluate),air:!!(e.runtime),query:!!(h.querySelector),json:!!(e.JSON)},Plugins:{}};j[j.name]=true;j[j.name+parseInt(j.version,10)]=true;j.Platform[j.Platform.name]=true;j.Request=(function(){var m=function(){return new XMLHttpRequest()},l=function(){return new ActiveXObject("MSXML2.XMLHTTP")},k=function(){return new ActiveXObject("Microsoft.XMLHTTP")};return OORTLE.$attempt(function(){m();return m},function(){l();return l},function(){k();return k})}());j.Features.xhr=!!(j.Request);g=(OORTLE.$attempt(function(){return navigator.plugins["Shockwave Flash"].description},function(){return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")})||"0 r0").match(/\d+/g);j.Plugins.Flash={version:Number(g[0]||"0."+g[1])||0,build:Number(g[2])||0};if(j.Platform.ios){j.Platform.ipod=true}j.Features.script_blocking=j.opera||j.firefox;j.Features.script_parent_node=j.safari||j.chrome?"body":"head";j.Features.script_load_event=j.safari||j.chrome||OORTLE.Browser.firefox;if(j.Features.script_load_event){i=h.createElement("script");j.Features.script_load_event=!!i.addEventListener}j.Features.script_error_event=j.Features.script_load_event;if(OORTLE.Browser.opera){var d=parseFloat(opera.version());j.Features.script_load_event=d>=9.2;j.Features.script_error_event=d>=11.6}j.script_parent=function(){return h.getElementsByTagName(OORTLE.Browser.Features.script_parent_node).item(0)}}());if(!("JSON" in window)){window.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());OORTLE.URI=function(h){var g=(document&&document.location)||{},f={queryKey:{}},d=OORTLE.URI.parse.options.key,a={http:80,https:443,ftp:21,rtsp:554,mms:1755,file:0},c;for(c=0;c<14;c+=1){if(!(d[c] in f)){f[d[c]]=""}}function b(k,l){var j=OORTLE.$a(k),i=OORTLE.$a(l);if(j[j.length-1]===""){j.splice(j.length-1,1)}if(i.length>0&&i[0]===""){j=i}else{j=j.concat(i)}j=OORTLE.filter(j,function(m){return m!=="."});return OORTLE.filter(j,function(m,n){return m!==".."&&j[n+1]!==".."})}this.fillDefaults=function(){var i,j;if(!f.protocol){f.protocol=g.protocol.slice(0,-1)||"http";f.hostname=f.hostname||g.hostname;f.port=f.port||g.port||a[f.protocol];i=document.location.pathname.split("/");i.splice(i.length-1,1);j=(f.directory||"").split("/");j.splice(j.length-1,1);i=b(i,j);f.directory=i.join("/")+"/"}f.port=f.port||a[f.protocol];f.directory=f.directory||"/"};function e(l){var j,m,i;for(j in l){if(l.hasOwnProperty(j)){f[j]=l[j]}}return this}this.extend=function(l){var j,m,i;for(j in l){if(l.hasOwnProperty(j)){i="set"+OORTLE.capitalize(j);if(this[i]){this[i](l[j])}else{f[j]=l[j]}}}return this};this.setPath=function(i){if(i[0]!=="/"){i="/"+i}i=i.split("/");f.file=i[i.length-1];i[i.length-1]="";f.directory=i.join("/")};this.setFile=function(i){i=i.split("/");i=b(f.directory.split("/"),i);this.setPath(i.join("/"))};this.setDirectory=function(i){if(i[0]!=="/"){i="/"+i}i=i.split("/");i=b(i,[f.file]);this.setPath(i.join("/"))};this.setQueryKey=function(i){this.setQuery(i,true)};this.setQuery=function(m,n){n=n||false;var i,j,l;if(OORTLE.$type(m)==="string"){f.query=m;f.queryKey={}}else{if(!n){f.queryKey={}}for(j in m){if(m.hasOwnProperty(j)){f.queryKey[j]=m[j]}}j="";l=f.queryKey;for(i in l){if(l.hasOwnProperty(i)){j=(j?j+"&":"")+encodeURIComponent(i)+"="+l[i]}}f.query=j}};if(h){e(h)}this.toString=function(){return f.protocol+"://"+((f.user?((f.user+f.password)+"@"):"")+(f.hostname+(f.port!==a[f.protocol]?":"+f.port:"")))+((f.directory+f.file)+(f.query?"?"+f.query:""))+(f.fragment?"#"+f.fragment:"")};this.get=function(j,i){if(i){return f[j][i]}return f[j]};this.fillDefaults()};OORTLE.URI.parse=function(e){var d=OORTLE.URI.parse.options,a=d.parser.exec(e),c={},b=d.key.length-1;while(b){c[d.key[b]]=a[b]||"";b-=1}c[d.q.name]={};c[d.key[12]].replace(d.q.parser,function(g,f,h){if(f){c[d.q.name][f]=h}});delete c.source;delete c.userInfo;delete c.authority;delete c.path;delete c.relative;return new OORTLE.URI(c)};OORTLE.URI.parse.options={key:["source","protocol","authority","userInfo","user","password","hostname","port","relative","path","directory","file","query","fragment"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/};OORTLE.ScriptCaller=function(){this.version="1.0.0";var self=this;function log(){if(self.debug&&console&&console.log&&(typeof(console.log.apply)==="function")){console.log.apply(console,arguments)}}this.id=0;this.PREFIX="OORTLE_script_";this.s={};var call_vehicle={};var call_url={};var call_status={};var call_result={};var call_callbacks={};this.add_callback=function(id,callback){if(!callback){return}call_callbacks[id]=call_callbacks[id]||[];call_callbacks[id].push(callback)};this.finalize=function(id){if(!(id in call_status)){return}log("ScriptCaller.finalize("+id+")");var script_id=this.PREFIX+id;var script_id_catcher=script_id+"_catcher";var script_element=document.getElementById(script_id);delete call_vehicle[id];if(script_element){script_element.parentNode.removeChild(script_element)}script_element=document.getElementById(script_id_catcher);if(script_element){script_element.parentNode.removeChild(script_element)}var status=call_status[id];var callbacks=call_callbacks[id];var result=call_result[id];delete call_url[id];delete call_status[id];delete call_callbacks[id];delete call_result[id];delete this.s[id];if(callbacks&&callbacks.length>0){setTimeout(function(){for(var i=0;i<callbacks.length;i=i+1){callbacks[i](status,result,id)}},0)}};this.success=function(id,result){if(!id){id=this.getAttribute("id")}if(!(id in call_status)){return}log("ScriptCaller.success(",id,", ",result,")");call_status[id]=true;call_result[id]=result};this.source=function(url,callback,id){this.call(url,callback,id,true,true)};this.call=function(url,callback,id,source,share){if(!id){this.id+=1;id=this.id}var cid="a"+id;source=!!source;share=!!share;url=OORTLE.URI.parse(url.toString());url.extend({queryKey:{callback:"OORTLE.ScriptCaller.s."+cid}});url=url.toString();log("ScriptCaller.call("+id+", "+url+")");if(!share&&(id in call_status)){log("ScriptCaller: BUG! call shouldn't be called if previous with the same id hasn't finished yet",id);callback(false);return false}if(share&&(id in call_url)&&call_url[id]!==url){log("ScriptCaller: BUG! Two shared calls with different URL");callback(false);return false}call_url[id]=url;call_status[id]=false;this.add_callback(id,callback);this.s[cid]=(function(i){return function(result){return OORTLE.ScriptCaller.success(id,result)}}(id));var xhr;if(!source&&!this.disable_cors){xhr=this.tryCORS()}if(xhr){this.call_cors(xhr,url,id)}else{this.call_script(url,id)}return id};this.call_script=function(url,id){var script_id=this.PREFIX+id;var script_id_catcher=script_id+"_catcher";var catcher;var add_in_thread=true;var script_tag=document.createElement("script");call_vehicle[id]=script_tag;script_tag.setAttribute("type","text/javascript");script_tag.setAttribute("id",script_id);var self=this;var done=OORTLE.$b(this.script_done,this,id);if(OORTLE.Browser.ie){add_in_thread=false;script_tag.onreadystatechange=function(){if(this.readyState==="loaded"||this.readyState==="complete"){done()}}}else{if(OORTLE.Browser.Features.script_load_event&&OORTLE.Browser.Features.script_error_event){script_tag.addEventListener("load",done,true);script_tag.addEventListener("error",done,true)}else{catcher=document.createElement("script");catcher.setAttribute("id",script_id_catcher);catcher.setAttribute("type","text/javascript");var scriptData=document.createTextNode("OORTLE.ScriptCaller.script_done('"+id+"');");catcher.appendChild(scriptData)}}var head_element=OORTLE.Browser.script_parent();script_tag.setAttribute("src",url);var addScripts=function(){head_element.appendChild(script_tag);if(catcher){head_element.appendChild(catcher)}};if(add_in_thread){setTimeout(addScripts,0)}else{addScripts()}};this.call_cors=function(xhr,url,id){call_vehicle[id]=xhr;xhr.id=id;xhr.onprogress=xhr.onloadstart=xhr.onloadend=xhr.onabort=OORTLE.$e;xhr.onreadystatechange=function(){};xhr.onload=function(){try{eval(xhr.responseText)}catch(e){}OORTLE.ScriptCaller.finalize(id)};xhr.ontimeout=function(){log("xhr ontimeout");OORTLE.ScriptCaller.finalize(id)};xhr.onerror=function(){log("xhr onerror");OORTLE.ScriptCaller.finalize(id)};xhr.timeout=120000;xhr.open("GET",url,true);xhr.send()};this.script_done=function(id){if(!(id in call_status)){log("script_done called for non-existing script call",id);return false}log("ScriptCaller: script_done("+id+") = "+call_status[id]);setTimeout(OORTLE.$b(this.finalize,this,id),0)};this.supportCORS=function(){return !!this.tryCORS()};this.tryCORS=function(){var xhr=new XMLHttpRequest();if("withCredentials" in xhr){return xhr}else{if(typeof XDomainRequest!=="undefined"){return new XDomainRequest()}}return null}};OORTLE.ScriptCaller=new OORTLE.ScriptCaller();